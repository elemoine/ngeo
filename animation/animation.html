<!DOCTYPE>
<html ng-app='app'>
  <head>
    <title>Animation example</title>
    <meta charset="utf-8">
    <meta name="viewport"
          content="initial-scale=1.0, user-scalable=no, width=device-width">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <link rel="stylesheet" href="ngeo.css" type="text/css">
    <style>
      app-map > div {
        width: 600px;
        height: 400px;
        -webkit-transition: width cubic-bezier(0.250, 0.460, 0.450, 0.940) 0.5s;
        transition: width cubic-bezier(0.250, 0.460, 0.450, 0.940) 0.5s;
      }
      app-map > div.big {
        width: 1000px;
      }
    </style>
  </head>
  <body ng-controller="MainController as ctrl">
    <app-map app-map="ctrl.map" app-map-class="ctrl.class"></app-map>
    <label>
      <input type="checkbox" ng-model="ctrl.class" ng-true-value="'big'" ng-false-value="''">
      Bigger!
    </label>
    <p>Use the <em>Bigger!</em> checkbox to change the size of the map.</p>
    <p>This example show how to animate the resizing of a map without distortions of the map during the animation. This works by running a <code>requestAnimationFrame</code> loop to call <code>map.updateSize</code> during the CSSÂ transition.</p>
    <p>The technique used in this example requires manually using the <code>$animate</code> service to trigger the animation. This means we cannot rely on <code>ngClass</code> or other Angular directives for the initiation of the animation. This is unfortunate. See this <a href="http://stackoverflow.com/questions/27013674/notification-when-transition-completes">question</a> on StackOverflow.</p>
    <script src="angular.min.js"></script>
    <script src="angular-animate.min.js"></script>
    <script src="ngeo.js"></script>
    <script src="animation.js"></script>
  </body>
</html>
